<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Billing System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <header>
        <h1>üçΩÔ∏è Restaurant Billing System</h1>
        <nav class="tabs">
            <button class="tab-btn active" onclick="showSection('menu', event)">Menu</button>
            <button class="tab-btn" onclick="showSection('manage', event)">Manage Menu</button>
            <button class="tab-btn" onclick="showSection('sales', event)">Sales Report</button>
        </nav>
    </header>

    <main>
        <!-- Menu Display Section -->
        <section id="menu-section" class="content-section active">
            <h2>Our Menu</h2>
            <div id="menu-grid" class="menu-grid">
                <!-- Menu items will be dynamically loaded here -->
            </div>
        </section>

        <!-- Menu Management Section -->
        <section id="manage-section" class="content-section">
            <h2>Manage Menu Items</h2>
            <div class="manage-container">
                <div class="menu-form-container">
                    <h3 id="form-title">Add New Menu Item</h3>
                    <form id="menu-form" onsubmit="handleMenuFormSubmit(event)">
                        <input type="hidden" id="item-id" value="">
                        <div class="form-group">
                            <label for="item-name">Item Name:</label>
                            <input type="text" id="item-name" required>
                        </div>
                        <div class="form-group">
                            <label for="item-price">Price (‚Çπ):</label>
                            <input type="number" id="item-price" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="item-image">Image URL:</label>
                            <input type="text" id="item-image" placeholder="images/idly.jpg">
                        </div>
                        <div class="form-group">
                            <label for="item-category">Category:</label>
                            <input type="text" id="item-category" placeholder="Breakfast, Snacks, etc.">
                        </div>
                        <button type="submit" id="submit-btn">Add Item</button>
                        <button type="button" onclick="resetForm()" id="cancel-btn" style="display:none;">Cancel</button>
                    </form>
                </div>
                <div class="menu-list-container">
                    <h3>Current Menu Items</h3>
                    <div id="menu-items-list">
                        <!-- Menu items list will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Sales Report Section -->
        <section id="sales-section" class="content-section">
            <h2>Monthly Sales Report</h2>
            <div class="sales-controls">
                <label for="sales-month">Select Month:</label>
                <input type="month" id="sales-month" onchange="loadSalesReport()">
            </div>
            <div id="sales-report">
                <!-- Sales report will be dynamically loaded here -->
            </div>
        </section>

        <!-- Cart Section (Always visible) -->
        <aside id="cart-section" class="cart-section">
            <h2>Cart</h2>
            <div id="cart-items">
                <p class="empty-cart">Your cart is empty</p>
            </div>
            <div id="cart-total" class="cart-total">
                <strong>Total: ‚Çπ0.00</strong>
            </div>
            <div class="cart-actions">
                <button onclick="clearCart()" class="btn-clear">Clear Cart</button>
                <button onclick="showQRCode()" class="btn-pay">Pay Now</button>
                <button onclick="printBill()" class="btn-print">Print Bill</button>
            </div>
        </aside>
    </main>

    <!-- QR Code Modal -->
    <div id="qr-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeQRModal()">&times;</span>
            <h2>Payment QR Code</h2>
            <div id="qrcode"></div>
            <p>Scan to pay</p>
            <button onclick="processPayment()" class="btn-pay-confirm">Confirm Payment</button>
        </div>
    </div>

    <!-- Bill Print Section (Hidden) -->
    <div id="bill-print" class="bill-print">
        <!-- Bill content will be generated here -->
    </div>

    <script src="script.js"></script>
</body>
</html>
